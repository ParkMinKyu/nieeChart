<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Insert title here</title>
<script type="text/javascript" src="jquery-1.8.3.min.js"></script>
<script type="text/javascript">
var canvas;
var ctx;
$(function(){
	$('#createBtn').click(function(){
		var rows = parseInt($('#rows').val());
		var cols = parseInt($('#cols').val());
		var width = cols*50;
		var height = rows*40;
		var ctab = width/cols;
		var cspace = parseInt(width/cols)/2;
		var rtab = 30*(rows+1);
		var rspace = (height-rtab)/2;
		var cAraay = new Array();
		var rAraay = new Array();
		
		canvas = document.getElementById("canvas");
		canvas.width = width;
		canvas.height = height;
		ctx = canvas.getContext("2d");
		ctx.font="15px Arial";
		ctx.clearRect(0,0,canvas.width,canvas.height)

		for(var i = 1 ; i <= cols ; i ++){
			var startX = ((i*ctab)-cspace);
			var startY = rspace;
			var endX = ((i*ctab)-cspace);
			var endY = rtab;

			ctx.beginPath();
			ctx.moveTo(startX,startY);
			ctx.fillText(i,startX,startY);
			ctx.lineTo(endX,(startY+endY));
			ctx.fillText(i,endX,(startY+endY));
			ctx.stroke();
			
			var colObj = {
					startX : startX, 
					startY : startY, 
					endX : endX, 
					endY : (endX+endY),
					rtab : 30,
					ctab : ctab
			}
			
			cAraay.push(colObj);
		}
		
		var command = '';
		while(command != 'x'){
			//command = prompt("사다리 정보를 입력하세요(x는 입력 완료).","");
			command = '1 1';
			var idx = command.split(' ');
			var nowObj = cAraay[parseInt(idx[1])-1];
			var nextObj = cAraay[parseInt(idx[1])];
			
			ctx.beginPath();
			ctx.moveTo(nowObj.startX,(nowObj.startY)+(parseInt(idx[0])*nowObj.rtab));
			ctx.lineTo(nextObj.startX,(nowObj.startY)+(parseInt(idx[0])*nowObj.rtab));
			ctx.stroke();
			
			var rowObj = {
					startX : nowObj.startX, 
					startY : (nowObj.startY)+(parseInt(idx[0])*nowObj.rtab), 
					endX : nextObj.startX, 
					endY : (nowObj.startY)+(parseInt(idx[0])*nowObj.rtab),
					rtab : 30,
					ctab : ctab
			}
			rAraay.push(rowObj);
			command = '6 1';
			var idx = command.split(' ');
			var nowObj = cAraay[parseInt(idx[1])-1];
			var nextObj = cAraay[parseInt(idx[1])];
			
			ctx.beginPath();
			ctx.moveTo(nowObj.startX,(nowObj.startY)+(parseInt(idx[0])*nowObj.rtab));
			ctx.lineTo(nextObj.startX,(nowObj.startY)+(parseInt(idx[0])*nowObj.rtab));
			ctx.stroke();
			
			var rowObj = {
					startX : nowObj.startX, 
					startY : (nowObj.startY)+(parseInt(idx[0])*nowObj.rtab), 
					endX : nextObj.startX, 
					endY : (nowObj.startY)+(parseInt(idx[0])*nowObj.rtab),
					rtab : 30,
					ctab : ctab
			}
			rAraay.push(rowObj);
			command = '9 1';
			var idx = command.split(' ');
			var nowObj = cAraay[parseInt(idx[1])-1];
			var nextObj = cAraay[parseInt(idx[1])];
			
			ctx.beginPath();
			ctx.moveTo(nowObj.startX,(nowObj.startY)+(parseInt(idx[0])*nowObj.rtab));
			ctx.lineTo(nextObj.startX,(nowObj.startY)+(parseInt(idx[0])*nowObj.rtab));
			ctx.stroke();
			
			var rowObj = {
					startX : nowObj.startX, 
					startY : (nowObj.startY)+(parseInt(idx[0])*nowObj.rtab), 
					endX : nextObj.startX, 
					endY : (nowObj.startY)+(parseInt(idx[0])*nowObj.rtab),
					rtab : 30,
					ctab : ctab
			}
			rAraay.push(rowObj);
			command = '3 2';
			var idx = command.split(' ');
			var nowObj = cAraay[parseInt(idx[1])-1];
			var nextObj = cAraay[parseInt(idx[1])];
			
			ctx.beginPath();
			ctx.moveTo(nowObj.startX,(nowObj.startY)+(parseInt(idx[0])*nowObj.rtab));
			ctx.lineTo(nextObj.startX,(nowObj.startY)+(parseInt(idx[0])*nowObj.rtab));
			ctx.stroke();
			
			var rowObj = {
					startX : nowObj.startX, 
					startY : (nowObj.startY)+(parseInt(idx[0])*nowObj.rtab), 
					endX : nextObj.startX, 
					endY : (nowObj.startY)+(parseInt(idx[0])*nowObj.rtab),
					rtab : 30,
					ctab : ctab
			}
			rAraay.push(rowObj);
			command = '5 2';
			var idx = command.split(' ');
			var nowObj = cAraay[parseInt(idx[1])-1];
			var nextObj = cAraay[parseInt(idx[1])];
			
			ctx.beginPath();
			ctx.moveTo(nowObj.startX,(nowObj.startY)+(parseInt(idx[0])*nowObj.rtab));
			ctx.lineTo(nextObj.startX,(nowObj.startY)+(parseInt(idx[0])*nowObj.rtab));
			ctx.stroke();
			
			var rowObj = {
					startX : nowObj.startX, 
					startY : (nowObj.startY)+(parseInt(idx[0])*nowObj.rtab), 
					endX : nextObj.startX, 
					endY : (nowObj.startY)+(parseInt(idx[0])*nowObj.rtab),
					rtab : 30,
					ctab : ctab
			}
			rAraay.push(rowObj);
			
			command = '8 2';
			var idx = command.split(' ');
			var nowObj = cAraay[parseInt(idx[1])-1];
			var nextObj = cAraay[parseInt(idx[1])];
			
			ctx.beginPath();
			ctx.moveTo(nowObj.startX,(nowObj.startY)+(parseInt(idx[0])*nowObj.rtab));
			ctx.lineTo(nextObj.startX,(nowObj.startY)+(parseInt(idx[0])*nowObj.rtab));
			ctx.stroke();
			
			var rowObj = {
					startX : nowObj.startX, 
					startY : (nowObj.startY)+(parseInt(idx[0])*nowObj.rtab), 
					endX : nextObj.startX, 
					endY : (nowObj.startY)+(parseInt(idx[0])*nowObj.rtab),
					rtab : 30,
					ctab : ctab
			}
			rAraay.push(rowObj);
			
			command = '4 3';
			var idx = command.split(' ');
			var nowObj = cAraay[parseInt(idx[1])-1];
			var nextObj = cAraay[parseInt(idx[1])];
			
			ctx.beginPath();
			ctx.moveTo(nowObj.startX,(nowObj.startY)+(parseInt(idx[0])*nowObj.rtab));
			ctx.lineTo(nextObj.startX,(nowObj.startY)+(parseInt(idx[0])*nowObj.rtab));
			ctx.stroke();
			
			var rowObj = {
					startX : nowObj.startX, 
					startY : (nowObj.startY)+(parseInt(idx[0])*nowObj.rtab), 
					endX : nextObj.startX, 
					endY : (nowObj.startY)+(parseInt(idx[0])*nowObj.rtab),
					rtab : 30,
					ctab : ctab
			}
			rAraay.push(rowObj);
			
			command = '7 3';
			var idx = command.split(' ');
			var nowObj = cAraay[parseInt(idx[1])-1];
			var nextObj = cAraay[parseInt(idx[1])];
			
			ctx.beginPath();
			ctx.moveTo(nowObj.startX,(nowObj.startY)+(parseInt(idx[0])*nowObj.rtab));
			ctx.lineTo(nextObj.startX,(nowObj.startY)+(parseInt(idx[0])*nowObj.rtab));
			ctx.stroke();
			
			var rowObj = {
					startX : nowObj.startX, 
					startY : (nowObj.startY)+(parseInt(idx[0])*nowObj.rtab), 
					endX : nextObj.startX, 
					endY : (nowObj.startY)+(parseInt(idx[0])*nowObj.rtab),
					rtab : 30,
					ctab : ctab
			}
			rAraay.push(rowObj);
			
			command = '10 3';
			var idx = command.split(' ');
			var nowObj = cAraay[parseInt(idx[1])-1];
			var nextObj = cAraay[parseInt(idx[1])];
			
			ctx.beginPath();
			ctx.moveTo(nowObj.startX,(nowObj.startY)+(parseInt(idx[0])*nowObj.rtab));
			ctx.lineTo(nextObj.startX,(nowObj.startY)+(parseInt(idx[0])*nowObj.rtab));
			ctx.stroke();
			
			var rowObj = {
					startX : nowObj.startX, 
					startY : (nowObj.startY)+(parseInt(idx[0])*nowObj.rtab), 
					endX : nextObj.startX, 
					endY : (nowObj.startY)+(parseInt(idx[0])*nowObj.rtab),
					rtab : 30,
					ctab : ctab
			}
			rAraay.push(rowObj);
			
			command = '2 4';
			var idx = command.split(' ');
			var nowObj = cAraay[parseInt(idx[1])-1];
			var nextObj = cAraay[parseInt(idx[1])];
			
			ctx.beginPath();
			ctx.moveTo(nowObj.startX,(nowObj.startY)+(parseInt(idx[0])*nowObj.rtab));
			ctx.lineTo(nextObj.startX,(nowObj.startY)+(parseInt(idx[0])*nowObj.rtab));
			ctx.stroke();
			
			var rowObj = {
					startX : nowObj.startX, 
					startY : (nowObj.startY)+(parseInt(idx[0])*nowObj.rtab), 
					endX : nextObj.startX, 
					endY : (nowObj.startY)+(parseInt(idx[0])*nowObj.rtab),
					rtab : 30,
					ctab : ctab
			}
			rAraay.push(rowObj);
			
			command = '6 4';
			var idx = command.split(' ');
			var nowObj = cAraay[parseInt(idx[1])-1];
			var nextObj = cAraay[parseInt(idx[1])];
			
			ctx.beginPath();
			ctx.moveTo(nowObj.startX,(nowObj.startY)+(parseInt(idx[0])*nowObj.rtab));
			ctx.lineTo(nextObj.startX,(nowObj.startY)+(parseInt(idx[0])*nowObj.rtab));
			ctx.stroke();
			
			var rowObj = {
					startX : nowObj.startX, 
					startY : (nowObj.startY)+(parseInt(idx[0])*nowObj.rtab), 
					endX : nextObj.startX, 
					endY : (nowObj.startY)+(parseInt(idx[0])*nowObj.rtab),
					rtab : 30,
					ctab : ctab
			}
			rAraay.push(rowObj);
			
			command = '8 4';
			var idx = command.split(' ');
			var nowObj = cAraay[parseInt(idx[1])-1];
			var nextObj = cAraay[parseInt(idx[1])];
			
			ctx.beginPath();
			ctx.moveTo(nowObj.startX,(nowObj.startY)+(parseInt(idx[0])*nowObj.rtab));
			ctx.lineTo(nextObj.startX,(nowObj.startY)+(parseInt(idx[0])*nowObj.rtab));
			ctx.stroke();
			
			var rowObj = {
					startX : nowObj.startX, 
					startY : (nowObj.startY)+(parseInt(idx[0])*nowObj.rtab), 
					endX : nextObj.startX, 
					endY : (nowObj.startY)+(parseInt(idx[0])*nowObj.rtab),
					rtab : 30,
					ctab : ctab
			}
			rAraay.push(rowObj);
			
			command = '3 5';
			var idx = command.split(' ');
			var nowObj = cAraay[parseInt(idx[1])-1];
			var nextObj = cAraay[parseInt(idx[1])];
			
			ctx.beginPath();
			ctx.moveTo(nowObj.startX,(nowObj.startY)+(parseInt(idx[0])*nowObj.rtab));
			ctx.lineTo(nextObj.startX,(nowObj.startY)+(parseInt(idx[0])*nowObj.rtab));
			ctx.stroke();
			
			var rowObj = {
					startX : nowObj.startX, 
					startY : (nowObj.startY)+(parseInt(idx[0])*nowObj.rtab), 
					endX : nextObj.startX, 
					endY : (nowObj.startY)+(parseInt(idx[0])*nowObj.rtab),
					rtab : 30,
					ctab : ctab
			}
			rAraay.push(rowObj);
			
			command = '5 5';
			var idx = command.split(' ');
			var nowObj = cAraay[parseInt(idx[1])-1];
			var nextObj = cAraay[parseInt(idx[1])];
			
			ctx.beginPath();
			ctx.moveTo(nowObj.startX,(nowObj.startY)+(parseInt(idx[0])*nowObj.rtab));
			ctx.lineTo(nextObj.startX,(nowObj.startY)+(parseInt(idx[0])*nowObj.rtab));
			ctx.stroke();
			
			var rowObj = {
					startX : nowObj.startX, 
					startY : (nowObj.startY)+(parseInt(idx[0])*nowObj.rtab), 
					endX : nextObj.startX, 
					endY : (nowObj.startY)+(parseInt(idx[0])*nowObj.rtab),
					rtab : 30,
					ctab : ctab
			}
			rAraay.push(rowObj);
			
			command = '7 5';
			var idx = command.split(' ');
			var nowObj = cAraay[parseInt(idx[1])-1];
			var nextObj = cAraay[parseInt(idx[1])];
			
			ctx.beginPath();
			ctx.moveTo(nowObj.startX,(nowObj.startY)+(parseInt(idx[0])*nowObj.rtab));
			ctx.lineTo(nextObj.startX,(nowObj.startY)+(parseInt(idx[0])*nowObj.rtab));
			ctx.stroke();
			
			var rowObj = {
					startX : nowObj.startX, 
					startY : (nowObj.startY)+(parseInt(idx[0])*nowObj.rtab), 
					endX : nextObj.startX, 
					endY : (nowObj.startY)+(parseInt(idx[0])*nowObj.rtab),
					rtab : 30,
					ctab : ctab
			}
			rAraay.push(rowObj);
			
			command = 'x';
		}
		
		var user = '';
		while(user != 'x'){
			user = prompt("사다리 게임을 시작할 출발 지점을 입력하세요(x는 입력 완료).","");
		}
		
	});
});
</script>
</head>
<body>
	높이는 몇 ? <input type="number" id="rows" value="10">
	참여자는 몇명? <input type="number" id="cols" value="6"><button id="createBtn">사다리 생성</button>
	<br>
	<canvas id="canvas" style="border: 1px solid;"></canvas>
</body>
</html>

